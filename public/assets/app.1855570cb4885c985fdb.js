webpackJsonp([0],{0:function(e,t,n){n(1);var a=n(5),r=(n(146),n(158));a.render(r,document.getElementById("container"))},1:function(e,t){},158:function(e,t,n){var a=n(146),r=n(159).Router,o=n(159).Route,s=n(159).IndexRoute,i=(n(159).Link,n(208)),l=n(490),c=n(493),m=n(504),u=n(507),d=n(510);e.exports=a.createElement(r,null,a.createElement(o,{path:"/",component:i},a.createElement(o,{path:"jobs",component:c}),a.createElement(s,{component:c}),a.createElement(o,{path:"job/:id",component:m}),a.createElement(o,{path:"jobcreate",component:u}),a.createElement(o,{path:"categorycreate",component:d}),a.createElement(o,{path:"register",component:l})))},208:function(e,t,n){var a=n(146),r=n(209);e.exports=a.createClass({displayName:"exports",render:function(){return a.createElement("div",null,a.createElement(r,null),this.props.children)}})},209:function(e,t,n){var a=n(146),r=n(5),o=n(159).Link,s=n(210).Navbar,i=n(455),l=n(488);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return i.getState()},componentWillMount:function(){i.listen(this.onChange)},componentWillUnmount:function(){i.unlisten(this.onChange)},render:function(){var e=this.state.user;return a.createElement("header",null,e?this.renderAuth():this.renderGuest())},onChange:function(e){this.setState(e)},logout:function(){l.logout()},handleSubmit:function(e){e.preventDefault();var t=r.findDOMNode(this.refs.email).value.trim(),n=r.findDOMNode(this.refs.password).value.trim();if(t&&n){var a={};a.email=t,a.password=n,l.login(a),r.findDOMNode(this.refs.email).value="",r.findDOMNode(this.refs.password).value=""}},renderAuth:function(){return a.createElement(s,{inverse:!0}," ",a.createElement(s.Header,null," ",a.createElement(s.Brand,null,a.createElement("a",{href:"#/"},"Jobeet"))," "),a.createElement("div",{className:"navbar-right"},a.createElement("p",{className:"navbar-text "},"Hello ",this.state.user),a.createElement(o,{className:"btn btn-primary navbar-btn",to:"/jobcreate"},"Post Jobs"),this.renderPostCategory(),a.createElement("button",{className:"btn btn-success navbar-btn ",onClick:this.logout,type:"button"},"Logout")))},renderGuest:function(){return a.createElement(s,{inverse:!0}," ",a.createElement(s.Header,null," ",a.createElement(s.Brand,null,a.createElement("a",{href:"#/"},"Jobeet"))," "),a.createElement("ul",{className:"nav navbar-nav navbar-right"},a.createElement("li",null,a.createElement(o,{to:"/register"},"Register")))," ",a.createElement("form",{className:"navbar-form navbar-right",role:"search"}," ",a.createElement("div",{className:"form-group"}," ",a.createElement("input",{type:"text",className:"form-control",placeholder:"your email",ref:"email"})," ")," ",a.createElement("div",{className:"form-group"}," ",a.createElement("input",{type:"password",className:"form-control",placeholder:"your password",ref:"password"})," ")," ",a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-primary"},"Login"),"  "))},renderPostCategory:function(){var e=this.state.email;return"egaleme@gmail.com"===e?a.createElement(o,{className:"btn btn-info navbar-btn",to:"/categorycreate"},"Post Job Categories"):""}})},455:function(e,t,n){var a=n(456),r=n(470),o=n(488),s=n(489);e.exports=a.createStore({displayName:"HeaderStore",bindListeners:{login:o.login,logout:o.logout,register:o.register,isLoggedIn:o.isLoggedIn},state:{user:null,email:null},login:function(e){r.post("/users/login/",e).then(function(e){this.setState({user:e.data.firstname,email:e.data.email}),s.setToken(e.data.token)}.bind(this))},logout:function(){s.setToken(),this.setState({user:null})},register:function(e){r.post("/users/register/",e).then(function(e){console.log(e.data)}.bind(this))},isLoggedIn:function(){return s.getToken()?!0:!1}})},456:function(e,t,n){var a=n(457),r=new a;e.exports=r},488:function(e,t,n){var a=n(456);e.exports=a.generateActions("login","logout","register","isLoggedIn")},489:function(e,t){"use strict";e.exports={getToken:function(){return JSON.parse(localStorage.getItem("token"))},setToken:function(e){e?localStorage.setItem("token",JSON.stringify(e)):localStorage.removeItem("token")}}},490:function(e,t,n){var a=n(146),r=n(5),o=(n(159).Link,n(491)),s=n(492);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return s.getState()},componentWillMount:function(){s.listen(this.onChange)},componentWillUnmount:function(){s.unlisten(this.onChange)},render:function(){var e=this.state.registered;return a.createElement("div",null,e?this.renderRegistered():this.renderNotRegistered(),a.createElement("form",{className:"form-horizontal",role:"form",onSubmit:this.handleSubmit},a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"firstname",className:"col-sm-2 control-label"},"First Name"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter First Name",ref:"firstname"})," ")," "),a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"lastname",className:"col-sm-2 control-label"},"Last Name"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",ref:"lastname"})," ")," "),a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"email",className:"col-sm-2 control-label"},"Email"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Your Email",ref:"email"})," ")," "),a.createElement("div",{className:"form-group"},a.createElement("label",{htmlFor:"password",className:"col-sm-2 control-label"},"Password"),a.createElement("div",{className:"col-sm-10"},a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter Password",ref:"password"})," ")," "),a.createElement("div",{className:"form-group"}," ",a.createElement("div",{className:"col-sm-offset-2 col-sm-10"}," ",a.createElement("button",{type:"submit",className:"btn btn-default"},"Register")," ")," ")))},onChange:function(e){this.setState(e)},renderRegistered:function(){return a.createElement("div",{className:"alert alert-success"},"Success! Well done you are now registered.")},renderNotRegistered:function(){return a.createElement("div",null," ")},handleSubmit:function(e){e.preventDefault();var t=r.findDOMNode(this.refs.firstname).value.trim(),n=r.findDOMNode(this.refs.lastname).value.trim(),a=r.findDOMNode(this.refs.email).value.trim(),s=r.findDOMNode(this.refs.password).value.trim();if(a&&s&&n&&t){var i={};i.firstname=t,i.lastname=n,i.password=s,i.email=a,o.register(i),r.findDOMNode(this.refs.firstname).value="",r.findDOMNode(this.refs.lastname).value="",r.findDOMNode(this.refs.email).value="",r.findDOMNode(this.refs.password).value=""}}})},491:function(e,t,n){var a=n(456);e.exports=a.generateActions("register")},492:function(e,t,n){var a=n(456),r=n(470),o=n(491);e.exports=a.createStore({displayName:"RegisterStore",bindListeners:{register:o.register},state:{registered:!1},register:function(e){r.post("/users/register/",e).then(function(e){this.setState({registered:!0})}.bind(this))}})},493:function(e,t,n){var a=n(146),r=(n(494),n(495)),o=n(496),s=n(499);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return r.getState()},componentWillMount:function(){r.listen(this.onChange)},componentWillUnmount:function(){r.unlisten(this.onChange)},onChange:function(e){this.setState(e)},render:function(){var e=this.state.selectedCategory,t=this.state.selectedClass;return a.createElement("div",{className:"row"},a.createElement(s,{selectedClass:t}),a.createElement(o,{selectCategory:e}))}})},494:function(e,t,n){var a=n(456);e.exports=a.generateActions("selectCategory")},495:function(e,t,n){var a=n(456),r=n(494);e.exports=a.createStore({displayName:"JobPanelStore",bindListeners:{selectCategory:r.selectCategory},state:{selectedCategory:null,selectedClass:""},selectCategory:function(e){e?this.setState({selectedCategory:e,selectedClass:""}):this.setState({selectedCategory:null,selectedClass:"active"})}})},496:function(e,t,n){var a=n(146),r=n(159).Link,o=n(497),s=n(498);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return s.getState()},componentWillMount:function(){s.listen(this.onChange),o.loadJobs()},componentWillUnmount:function(){s.unlisten(this.onChange)},render:function(){var e=this.props.selectCategory;return a.createElement("div",{className:"col-md-9"},a.createElement("table",{className:"table table-bordered table-stripped"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Location"),a.createElement("th",null,"Position"),a.createElement("th",null,"Company"))),a.createElement("tbody",null,e?this.renderFilteredJobs():this.renderJobs())))},onChange:function(e){this.setState(e)},renderJobs:function(){return this.state.jobs.map(function(e){return a.createElement("tr",{key:e.id},a.createElement("td",null,a.createElement(r,{to:"/job/"+e.id},e.location)),a.createElement("td",null,e.position),a.createElement("td",null,e.company))})},renderFilteredJobs:function(){var e=this.props.selectCategory,t=this.state.jobs.filter(function(t){return t.categoryid===e});return t.map(function(e){return a.createElement("tr",{key:e.id},a.createElement("td",null,a.createElement(r,{to:"/job/"+e.id},e.location)),a.createElement("td",null,e.position),a.createElement("td",null,e.company))})}})},497:function(e,t,n){var a=n(456);e.exports=a.generateActions("loadJobs")},498:function(e,t,n){var a=n(456),r=n(470),o=n(497);e.exports=a.createStore({displayName:"JobsStore",bindListeners:{loadJobs:o.loadJobs},state:{jobs:[]},loadJobs:function(){r.get("/api/jobs/").then(function(e){this.setState({jobs:e.data})}.bind(this))}})},499:function(e,t,n){var a=n(146),r=n(500),o=n(501),s=n(502);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return r.getState()},componentWillMount:function(){r.listen(this.onChange),o.load()},componentWillUnmount:function(){r.unlisten(this.onChange)},render:function(){var e=this.state.categories;return a.createElement("div",{className:"col-md-3"},a.createElement(s,{items:e,selectedClass:this.props.selectedClass}))},onChange:function(e){this.setState(e)}})},500:function(e,t,n){var a=n(456),r=n(489),o=n(470),s=n(501);e.exports=a.createStore({displayName:"CategoryStore",bindListeners:{load:s.load,create:s.create},state:{categories:[],created:null},load:function(){o.get("/api/category/").then(function(e){this.setState({categories:e.data,created:null})}.bind(this))},create:function(e){var t=r.getToken(),n="Bearer "+t;o({url:"/category/",method:"post",data:e,headers:{Authorization:n}}).then(function(e){this.setState({created:!0})}.bind(this))}})},501:function(e,t,n){var a=n(456);e.exports=a.generateActions("load","create")},502:function(e,t,n){var a=n(146),r=(n(159).Link,n(503)),o=n(494);e.exports=a.createClass({displayName:"exports",render:function(){return a.createElement("ul",{className:"nav nav-pills nav-stacked"},a.createElement("li",{onClick:this.selectCategory,className:this.props.selectedClass?"active":""},a.createElement("a",{className:"btn"},"Home")),this.renderCategory())},renderCategory:function(){this.props.selectedClass;return this.props.items.map(function(e){return a.createElement(r,{item:e,key:e.id})})},selectCategory:function(){o.selectCategory()}})},503:function(e,t,n){var a=n(146),r=n(494);e.exports=a.createClass({displayName:"exports",render:function(){return a.createElement("li",{onClick:this.selectCategory},a.createElement("a",{className:"btn"},this.props.item.name))},selectCategory:function(){r.selectCategory(this.props.item.id)}})},504:function(e,t,n){var a=n(146),r=(n(159).Link,n(505)),o=n(506);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return o.getState()},componentWillMount:function(){o.listen(this.onChange),this.loadDetail()},componentWillUnmount:function(){o.unlisten(this.onChange)},render:function(){var e=this.state.job;return a.createElement("div",{className:" panel panel-info"},a.createElement("div",{className:"panel-heading"},a.createElement("div",{className:"panel-title"},"Job Detail")),a.createElement("div",{className:"panel-body"},a.createElement("p",null,e.description),a.createElement("p",null,e.location),a.createElement("p",null,e.position)))},onChange:function(e){this.setState(e)},loadDetail:function(){var e=this.props.params.id;r.load(e)}})},505:function(e,t,n){var a=n(456);e.exports=a.generateActions("load")},506:function(e,t,n){var a=n(456),r=n(470),o=n(505);e.exports=a.createStore({displayName:"JobDetailStore",bindListeners:{load:o.load},state:{job:{}},load:function(e){r.get("/api/jobs/"+e).then(function(e){this.setState({job:e.data})}.bind(this))}})},507:function(e,t,n){var a=n(146),r=n(5),o=n(508),s=n(509),i=(n(488),n(159).Navigation);e.exports=a.createClass({displayName:"exports",mixins:[i],getInitialState:function(){return s.getState()},componentWillMount:function(){s.listen(this.Change),o.loadCategories()},componentWillUnmount:function(){s.unlisten(this.Change)},render:function(){var e=this.state.created,t=this.state.selectValue,n=this.renderCategories();return a.createElement("div",{className:"row"},e?this.renderSuccess():"",a.createElement("form",{className:"form-inline",onSubmit:this.handleSubmit},a.createElement("input",{type:"text",className:"form-control",id:"description",placeholder:"Enter Description",ref:"description"}),a.createElement("input",{type:"text",id:"company",placeholder:"Enter Company",ref:"company"}),a.createElement("input",{type:"text",id:"position",placeholder:"Enter Position",ref:"position"}),a.createElement("input",{type:"text",id:"location",placeholder:"Enter Location",ref:"location"}),a.createElement("label",null,a.createElement("select",{onChange:this.handleChange,value:t,ref:"categoryid"},n),"Select Category"),a.createElement("div",null),a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit")))},renderCategories:function(){return this.state.categories.map(function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)})},Change:function(e){this.setState(e)},handleChange:function(e){var t=e.target.value;o.setValue(t)},handleSubmit:function(e){e.preventDefault();var t=r.findDOMNode(this.refs.description).value.trim(),n=r.findDOMNode(this.refs.categoryid).value.trim(),a=r.findDOMNode(this.refs.company).value.trim(),s=r.findDOMNode(this.refs.position).value.trim(),i=r.findDOMNode(this.refs.location).value.trim();if(t&&n&&a&&s&&i){var l={};l.description=t,l.categoryid=n,l.company=a,l.position=s,l.location=i,o.create(l),r.findDOMNode(this.refs.description).value="",r.findDOMNode(this.refs.company).value="",r.findDOMNode(this.refs.position).value="",r.findDOMNode(this.refs.location).value=""}},renderSuccess:function(){return a.createElement("div",{className:"alert alert-success"},"Success! Well done job created.")}})},508:function(e,t,n){var a=n(456);e.exports=a.generateActions("create","loadCategories","setValue")},509:function(e,t,n){var a=n(456),r=n(489),o=n(470),s=n(508);e.exports=a.createStore({displayName:"JobCreateStore",bindListeners:{create:s.create,loadCategories:s.loadCategories,setValue:s.setValue},state:{job:{},created:!1,categories:[],selectValue:null,created:null},create:function(e){var t=r.getToken(),n="Bearer "+t;o({url:"/jobs/",method:"post",data:e,headers:{Authorization:n}}).then(function(e){console.log(e.data),this.setState({created:!0})}.bind(this))},loadCategories:function(){o.get("/api/category/").then(function(e){this.setState({categories:e.data,created:null})}.bind(this))},setValue:function(e){this.setState({setValue:e,created:null})}})},510:function(e,t,n){var a=n(146),r=n(5),o=n(501),s=n(500);e.exports=a.createClass({displayName:"exports",getInitialState:function(){return s.getState()},componentWillMount:function(){s.listen(this.onChange)},componentWillUnmount:function(){s.unlisten(this.onChange)},render:function(){var e=this.state.created;return a.createElement("div",{className:"container"},e?this.renderSuccess():"",a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Category Name",ref:"name"}),a.createElement("div",null),a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit")))},onChange:function(e){this.setState(e)},handleSubmit:function(e){e.preventDefault();var t=r.findDOMNode(this.refs.name).value.trim();if(t){var n={};n.name=t,o.create(n),r.findDOMNode(this.refs.name).value=""}},renderSuccess:function(){return a.createElement("div",{className:"alert alert-success"},"Success! Well done category created.")}})}});
//# sourceMappingURL=app.1855570cb4885c985fdb.js.map?